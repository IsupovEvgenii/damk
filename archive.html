<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>archive — damk</title>
    <meta name="description" content="damk is personal space — drawings, soft memories, small objects."/>
    <link rel="stylesheet" href="css/styles.css"/>
    <script data-goatcounter="https://damk.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>
<body>
<header>
    <nav>
        <a href="/">about</a>
        <a href="archive.html">archive</a>
        <a href="objects.html">goods</a>
        <a href="runner.html">game</a>
    </nav>
</header>

<main>
    <h1>archive</h1>
    <p>drawings. pieces. silence.</p>

    <div class="tabs" id="tabs">
        <button class="tab-button active" data-tab="canvases">canvases</button>
        <button class="tab-button" data-tab="figures">figures</button>
        <button class="tab-button" data-tab="jewelry">jewelry</button>
        <button class="tab-button" data-tab="other">other</button>
    </div>

    <div id="archive-sections">
        <section class="gallery-section active" data-tab="canvases"></section>
        <section class="gallery-section" data-tab="figures"></section>
        <section class="gallery-section" data-tab="jewelry"></section>
        <section class="gallery-section" data-tab="other"></section>
    </div>
</main>

<footer>
    <img src="assets/monkey1.png" alt="monkey" class="monkey" id="monkey"/>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = {
            canvases: ['2023_canvas1.jpg',
                '2023_canvas2.jpg',
                '2023_canvas3.jpg',
                '2024_canvas1.jpg',
                '2024_canvas2.jpg',
                '2024_canvas3.jpg',
                '2024_canvas4.jpg',
                '2024_canvas5.jpg',
                '2024_canvas6.jpg',
                '2024_canvas7.jpg',
                '2024_canvas8.jpg',
                '2024_canvas9.jpg'],
            figures: ['2023_figure1.jpg',
                '2024_figure1.jpg',
                '2024_figure2.jpg',
                '2024_figure3.jpg',
                '2025_figure1.jpg'],
            jewelry: ['2025_jewelry1.jpg',
                '2025_jewelry2.jpg'],
            other: ['2023_other1.jpg',
                '2023_other2.jpg',
                '2023_other3.jpg',
                '2023_other4.jpg',
                '2024_other1.jpg',
                '2024_other2.jpg',
                '2024_other3.jpg',
                '2024_other4.jpg']
        };

        Object.keys(data).forEach(category => {
            data[category].sort((a, b) => {
                const yearA = parseInt(a.split('_')[0]);
                const yearB = parseInt(b.split('_')[0]);
                return yearA - yearB;
            });
        });

        const gallery = document.getElementById('gallery');
        const buttons = document.querySelectorAll('.category-button');

        buttons.forEach(button => {
            button.addEventListener('click', () => {
                const selectedCategory = button.dataset.category;
                gallery.innerHTML = '';

                data[selectedCategory].forEach(filename => {
                    const src = 'assets/archive/' + filename;
                    const img = new Image();
                    img.src = src;

                    img.onload = () => {
                        const wrapper = document.createElement('div');
                        wrapper.className = 'gallery-item';

                        const year = filename.split('_')[0];
                        const caption = document.createElement('div');
                        caption.className = 'caption';
                        caption.textContent = year;

                        wrapper.appendChild(img);
                        wrapper.appendChild(caption);
                        gallery.appendChild(wrapper);
                    };
                });
            });
        });

        if (buttons.length > 0) {
            buttons[0].click();
        }
    });
</script>
</body>
</html>
